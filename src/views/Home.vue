<template>
    <div class="w-full min-h-100vh relative overflow-hidden">
        <div class="absolute left-0 top-0">
            <svg width="598" height="1581" viewBox="0 0 598 1581" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="-15.5267" cy="680.913" rx="613.473" ry="899.913" fill="url(#paint0_radial_401_1794)"
                    fill-opacity="0.38" />
                <defs>
                    <radialGradient id="paint0_radial_401_1794" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(-15.5267 680.913) rotate(90) scale(899.913 613.473)">
                        <stop stop-color="#FFC300" />
                        <stop offset="1" stop-color="#181C27" stop-opacity="0" />
                    </radialGradient>
                </defs>
            </svg>
        </div>
        <div class="absolute top-96 right-0">
            <svg width="600" height="1800" viewBox="0 0 600 1800" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="613.473" cy="899.913" rx="613.473" ry="899.913" fill="url(#paint0_radial_401_1791)"
                    fill-opacity="0.38" />
                <defs>
                    <radialGradient id="paint0_radial_401_1791" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(613.473 899.913) rotate(90) scale(899.913 613.473)">
                        <stop stop-color="#FFC300" />
                        <stop offset="1" stop-color="#181C27" stop-opacity="0" />
                    </radialGradient>
                </defs>
            </svg>
        </div>
        <div class="absolute top-[2500px] left-0">
            <svg width="626" height="1800" viewBox="0 0 626 1800" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="12.4733" cy="899.913" rx="613.473" ry="899.913" fill="url(#paint0_radial_401_1788)"
                    fill-opacity="0.38" />
                <defs>
                    <radialGradient id="paint0_radial_401_1788" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(12.4733 899.913) rotate(90) scale(899.913 613.473)">
                        <stop stop-color="#FFC300" />
                        <stop offset="1" stop-color="#181C27" stop-opacity="0" />
                    </radialGradient>
                </defs>
            </svg>
        </div>
        <div class="absolute top-[3000px] right-0">
            <svg width="540" height="1800" viewBox="0 0 540 1800" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="613.473" cy="899.913" rx="613.473" ry="899.913" fill="url(#paint0_radial_401_1792)"
                    fill-opacity="0.38" />
                <defs>
                    <radialGradient id="paint0_radial_401_1792" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(613.473 899.913) rotate(90) scale(899.913 613.473)">
                        <stop stop-color="#FFC300" />
                        <stop offset="1" stop-color="#181C27" stop-opacity="0" />
                    </radialGradient>
                </defs>
            </svg>
        </div>
        <div class="w-full h-full relative z-50">
            <Navbar />
            <div class="container bg-transparent my-20">
                <!-- Main -->
                <div class="w-full flex items-center justify-between">
                    <div class="w-[750px]">
                        <div class="w-full flex flex-col space-y-10 lg:py-40 py-20">
                            <h1
                                class="font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white">
                                Получайте знания от
                                мастеров, развивайтесь до совершенства.</h1>
                            <p class="font-sf_pro font-medium lg:text-xl sm:text-lg text-base text-m_gray-100">
                                Учитесь у экспертов, чтобы стать тем, кем всегда мечтали быть.
                            </p>
                            <div
                                class="flex items-center sm:space-x-6 space-x-3 w-fit bg-m_yellow-100 px-8 py-3 cursor-pointer rounded-lg">
                                <button class="font-helvetica font-bold lg:text-lg sm:text-base text-sm text-nowrap">
                                    Попробовать бесплатно 7 дней
                                </button>
                                <svg class="w-5" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12.0842 0.269824C11.9982 0.182232 11.8962 0.11326 11.7841 0.0669526C11.6721 0.0206449 11.5522 -0.00206728 11.4315 0.000147736C11.3108 0.00236275 11.1918 0.0294604 11.0814 0.079852C10.9709 0.130244 10.8714 0.202915 10.7885 0.293607C10.7056 0.384299 10.641 0.491186 10.5986 0.608003C10.5562 0.72482 10.5367 0.849216 10.5414 0.9739C10.5461 1.09858 10.5748 1.22104 10.6259 1.33411C10.6769 1.44717 10.7493 1.54856 10.8388 1.63232L17.1735 7.82608L1.78828 7.82608C1.54777 7.82608 1.3171 7.92485 1.14703 8.10066C0.976965 8.27648 0.881422 8.51493 0.881422 8.76357C0.881422 9.01222 0.976965 9.25067 1.14703 9.42649C1.3171 9.6023 1.54777 9.70107 1.78828 9.70107L17.1759 9.70107L10.8388 15.8973C10.7493 15.9811 10.6769 16.0825 10.6259 16.1955C10.5748 16.3086 10.5461 16.4311 10.5414 16.5557C10.5367 16.6804 10.5562 16.8048 10.5986 16.9216C10.641 17.0385 10.7056 17.1453 10.7885 17.236C10.8714 17.3267 10.9709 17.3994 11.0814 17.4498C11.1918 17.5002 11.3108 17.5273 11.4315 17.5295C11.5522 17.5317 11.6721 17.509 11.7841 17.4627C11.8962 17.4164 11.9982 17.3474 12.0842 17.2598L19.8445 9.67232C20.0372 9.48399 20.1647 9.2354 20.2073 8.96482C20.2357 8.82965 20.2349 8.68963 20.2049 8.55482C20.1609 8.28814 20.0345 8.04339 19.8445 7.85732L12.0842 0.269824Z"
                                        fill="black" />
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="w-[600px] h-[700px] overflow-y-scroll no-scrollbar relative lg:block hidden">
                        <div class="columns-2 gap-8 animate-scroll">
                            <div v-for="(item, index) in galleryItems" :key="index" class="w-full mb-5 overflow-hidden">
                                <img class="w-full object-cover mb-3 rounded-xl" :src="item.img" />
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Partners -->
                <div class="w-full py-10">
                    <p class="font-sf_pro font-medium lg:text-xl text-lg text-white text-center pt-10">
                        Доверяют более <span class="font-bold">800K+</span> фрилансеров и <span
                            class="font-bold">20K+</span> команд, таких как:
                    </p>
                    <div class="grid lg:grid-cols-6 md:grid-cols-5 sm:grid-cols-4 grid-cols-3 gap-4 mt-4 mb-16 pt-10">
                        <div v-for="item in partners" :key="item.id">
                            <img class="w-full h-full object-cover" :src="item.img">
                        </div>
                    </div>
                </div>
                <!-- Category Courses -->
                <div class="w-full pb-5">
                    <h2
                        class="text-center font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white md:w-2/3 w-full mx-auto">
                        Найдите свой источник вдохновения, когда угодно
                    </h2>
                    <div class="flex items-center justify-center flex-wrap pt-16 pb-10">
                        <div v-for="item in cats" :key="item.id" @click="changeActiveCat(item.id)"
                            :class="[active_cat == item.id ? 'bg-m_yellow-100 text-black' : 'bg-m_black-200 text-m_gray-200']"
                            class="font-sf_pro font-medium lg:px-10 lg:py-3 px-6 py-2 sm:mr-4 sm:mb-4 mr-3 mb-3 lg:text-base text-sm rounded-md hover:bg-m_yellow-100 hover:text-black duration-300 cursor-pointer">
                            {{ item.name }}
                        </div>
                    </div>
                </div>
                <div class="w-full flex flex-col items-center space-y-20">
                    <swiper :slides-per-view="slidesPerView" :breakpoints="cource_breakpoints" :spaceBetween="30"
                        :modules="modules" :loop="true" :speed="1000"
                        :autoplay="{ delay: 2000, duration: 2000, disableOnInteraction: false }"
                        class="w-full flex items-center space-x-20 select-none">
                        <swiper-slide v-for="item in courses" :key="item.id">
                            <router-link :to="`/course/detail/${item.id}`">
                                <Card :course="item" />
                            </router-link>
                        </swiper-slide>
                    </swiper>
                    <router-link :to="`/category/${active_cat}`"
                        class="px-7 py-3 rounded-lg border border-white font-sf_pro font-medium text-white lg:text-lg text-base">
                        Больше курсов
                    </router-link>
                </div>
                <!-- Popular Categories -->
                <div class="w-full pb-5">
                    <h2
                        class="text-center font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white md:w-2/3 w-full mx-auto sm:mt-32 mt-20 mb-20">
                        Популярные категории на нашей платформе
                    </h2>
                    <div class="w-full flex flex-col items-center space-y-20">
                        <swiper :slides-per-view="slidesPerView" :breakpoints="banner_breakpoints" :spaceBetween="30"
                            :modules="modules" :loop="true" :speed="1000"
                            :autoplay="{ delay: 2500, duration: 1000, disableOnInteraction: false }"
                            class="w-full flex items-center space-x-20 select-none">
                            <swiper-slide v-for="item in popular_cats" :key="item.id">
                                <router-link :to="`/category/${item.id}`">
                                    <img class="w-full sm:h-[390px] h-[300px] object-cover rounded-lg"
                                        :src="item.image" />
                                </router-link>
                            </swiper-slide>
                        </swiper>
                    </div>
                </div>
                <!-- Masters -->
                <div class="w-full pb-5">
                    <!-- Title -->
                    <h2
                        class="text-center font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white md:w-2/3 w-full mx-auto sm:mt-32 mt-20 mb-14">
                        Получайте знания от творческих специалистов
                    </h2>
                    <!-- Arrow icons -->
                    <div class="flex items-center justify-end md:mb-12">
                        <div class="hidden md:flex items-center space-x-2">
                            <svg @click="isMaster = 'prev'"
                                :class="[isMaster === 'prev' ? 'bg-m_yellow-100' : 'bg-m_black-300']"
                                class="p-3 lg:w-[65px] w-[50px] rounded-full cursor-pointer duration-200 prev-master"
                                viewBox="0 0 24 24" :stroke="[isMaster === 'prev' ? '#000' : '#B3B3B3']"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M6 12H18M6 12L11 7M6 12L11 17" stroke-width="1" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            <svg @click="isMaster = 'next'"
                                :class="[isMaster === 'next' ? 'bg-m_yellow-100' : 'bg-m_black-300']"
                                class="p-3 lg:w-[65px] w-[50px] rounded-full cursor-pointer duration-200 next-master"
                                viewBox="0 0 24 24" :stroke="[isMaster === 'next' ? '#000' : '#B3B3B3']"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M6 12H18M18 12L13 7M18 12L13 17" stroke-width="1" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </div>
                    </div>
                    <!-- Cards -->
                    <swiper :slides-per-view="slidesPerView" :breakpoints="master_breakpoints" :spaceBetween="30"
                        :modules="modules" :loop="true" :speed="1000"
                        :navigation="{ nextEl: '.next-master', prevEl: '.prev-master' }"
                        :autoplay="{ delay: 2000, duration: 2000, disableOnInteraction: false }"
                        class="w-full grid grid-cols-3 gap-x-20">
                        <swiper-slide v-for="item in masters" :key="item.id" class="flex flex-col">
                            <div class="h-[300px] rounded-lg relative">
                                <div class="absolute bottom-0 left-0 w-full h-[260px] rounded-xl bg-m_black-500"></div>
                                <img class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[300px] h-[300px] object-cover"
                                    :src="item.avatar">
                                <div class="absolute top-14 right-4">
                                    <div class="flex items-center">
                                        <span class="text-lg text-m_yellow-100">★</span>
                                        <span class="ml-1 text-white text-base font-bold font-sf_pro">{{ item.rating
                                            }}</span>
                                    </div>
                                </div>
                            </div>
                            <h3 class="font-sf_pro font-bold text-2xl text-white text-center mt-10 mb-4">{{
                                item.full_name }}</h3>
                            <p class="font-sf_pro font-normal text-lg text-m_yellow-200 text-center">
                                {{ item.profession }}
                            </p>
                        </swiper-slide>
                    </swiper>
                </div>
                <!-- Comments -->
                <div class="w-full pb-5">
                    <h2
                        class="text-center font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white md:w-2/3 w-full mx-auto sm:mt-32 mt-20 sm:mb-40 mb-20">
                        Отзывы наших пользователей
                    </h2>
                    <div class="md:w-[1400px] w-[350px] h-[700px] mx-auto relative">
                        <div v-for="item in comments" :key="item.id"
                            class="w-[400px] lg:ml-40 ml-0 absolute px-10 py-6 rounded-lg md:flex hidden flex-col space-y-4"
                            :style="{
                                backgroundColor: item.bg_color,
                                color: item.text_color,
                                top: `${item.position.top}px`,
                                left: `${item.position.left}px`,
                                transform: `rotate(${item.position.rotate}deg)`
                            }">
                            <div class="flex items-center space-x-6 pb-4">
                                <div class="w-[70px] rounded-full">
                                    <img class="w-full h-full object-cover rounded-full" :src="item.img">
                                </div>
                                <div class="flex flex-col space-y-2">
                                    <h2 class="font-sf_pro font-medium text-lg">{{ item.name }}</h2>
                                    <p class="font-sf_pro font-normal text-sm">{{ item.nickname }}</p>
                                </div>
                            </div>
                            <p class="font-sf_pro font-normal text-base">
                                {{ item.comment }}
                            </p>
                        </div>
                        <div v-for="item in mobile_comments" :key="item.id"
                            class="w-[350px] absolute px-10 py-6 rounded-lg md:hidden flex flex-col space-y-4"
                            :style="{
                                backgroundColor: item.bg_color,
                                color: item.text_color,
                                top: `${item.position.top}px`,
                                left: `${item.position.left}px`,
                                transform: `rotate(${item.position.rotate}deg)`
                            }">
                            <div class="flex items-center space-x-6 pb-4">
                                <div class="w-[70px] rounded-full">
                                    <img class="w-full h-full object-cover rounded-full" :src="item.img">
                                </div>
                                <div class="flex flex-col space-y-2">
                                    <h2 class="font-sf_pro font-medium text-lg">{{ item.name }}</h2>
                                    <p class="font-sf_pro font-normal text-sm">{{ item.nickname }}</p>
                                </div>
                            </div>
                            <p class="font-sf_pro font-normal text-base">
                                {{ item.comment }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- FAQ -->
                <div class="w-full pb-5">
                    <h2
                        class="text-center font-sf_pro font-bold lg:text-[50px] sm:text-[40px] text-[30px] lg:leading-[60px] sm:leading-[50px] leading-[40px] text-white md:w-2/3 w-full mx-auto sm:mt-20 mt-10 mb-20">
                        Часто задаваемые вопросы
                    </h2>
                    <div class="sm:p-6 text-white">
                        <div v-for="(item, index) in qas" :key="index" class="mb-4 bg-m_black-200 rounded-lg">
                            <button @click="toggleAccordion(index)"
                                class="w-full text-left py-4 px-6 rounded-lg flex justify-between items-center focus:outline-none">
                                <span class="sm:text-lg text-base">{{ item.question }}</span>
                                <span
                                    :class="{ 'transform rotate-45': activeIndex === index, 'transform rotate-0': activeIndex !== index }">
                                    +
                                </span>
                            </button>
                            <div v-if="activeIndex === index"
                                class="text-gray-300 sm:text-base text-sm p-6 rounded-lg mt-2" v-html="item.answer">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <Footer />
        </div>
    </div>
</template>

<script>
import api from '@/api/index';
import { mapState } from 'vuex';
import Navbar from '@/components/Navbar.vue';
import Footer from '@/components/Footer.vue';
import Card from '@/components/Card.vue';
import { Swiper, SwiperSlide } from 'swiper/vue';
import { Autoplay, Navigation, Pagination } from "swiper/modules";
import 'swiper/css';
import 'swiper/css/pagination';
import 'swiper/css/navigation';
import 'swiper/css/effect-coverflow';
export default {
    name: "Home",
    components: {
        Navbar,
        Footer,
        Card,
        Swiper,
        SwiperSlide,
    },
    computed: {
        ...mapState(['user']),
    },
    data() {
        return {
            slidesPerView: null,
            activeIndex: null,
            active_cat: null,
            courses: null,
            cats: null,
            qas: null,
            masters: null,
            isMaster: null,
            popular_cats: null,
            cource_breakpoints: {
                200: { slidesPerView: 1 },
                500: { slidesPerView: 2 },
                950: { slidesPerView: 3 },
                1200: { slidesPerView: 4 },
            },
            master_breakpoints: {
                200: { slidesPerView: 1 },
                600: { slidesPerView: 2 },
                900: { slidesPerView: 3 },
            },
            banner_breakpoints: {
                200: { slidesPerView: 1.2 },
                500: { slidesPerView: 2.3 },
                950: { slidesPerView: 3.4 },
                1200: { slidesPerView: 4.5 },
            },
            teacher_breakpoints: {
                200: { slidesPerView: 1 },
                500: { slidesPerView: 2 },
                950: { slidesPerView: 3 },
                1200: { slidesPerView: 4 },
            },
            galleryItems: [
                { id: 1, img: '/imgs/home-1.webp' },
                { id: 2, img: '/imgs/home-2.webp' },
                { id: 3, img: '/imgs/home-3.webp' },
                { id: 4, img: '/imgs/home-4.webp' },
                { id: 5, img: '/imgs/home-1.webp' },
                { id: 6, img: '/imgs/home-2.webp' },
                { id: 7, img: '/imgs/home-3.webp' },
                { id: 8, img: '/imgs/home-1.webp' },
                { id: 9, img: '/imgs/home-2.webp' },
                { id: 10, img: '/imgs/home-3.webp' },
                { id: 11, img: '/imgs/home-4.webp' },
                { id: 12, img: '/imgs/home-3.webp' },
            ],
            partners: [
                { id: 1, img: '/svgs/partner-1.svg' },
                { id: 2, img: '/svgs/partner-2.svg' },
                { id: 3, img: '/svgs/partner-3.svg' },
                { id: 4, img: '/svgs/partner-4.svg' },
                { id: 5, img: '/svgs/partner-5.svg' },
                { id: 6, img: '/svgs/partner-6.svg' },
            ],
            comments: [
                {
                    id: 1,
                    img: '/imgs/person4.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Опытные наставники и качественные материалы делают обучение увлекательным 🔥🔥 и эффективным. Независимо от того, начинающий вы или уже имеете опыт, эти курсы помогут вам достичь поставленных целей и развиваться. Опытные наставники и качественные материалы делают обучение увлекательным и эффективным. Независимо от того, начинающий вы или уже имеете опыт, эти курсы помогут вам дости',
                    bg_color: '#6A58E4',
                    text_color: '#fff',
                    position: {
                        top: '0',
                        left: '10',
                        rotate: '2',
                    },
                },
                {
                    id: 2,
                    img: '/imgs/person5.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#F0FB96',
                    text_color: '#000',
                    position: {
                        top: '-40',
                        left: '600',
                        rotate: '-2',
                    },
                },
                {
                    id: 3,
                    img: '/imgs/person2.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#FF595D',
                    text_color: '#000',
                    position: {
                        top: '50',
                        left: '600',
                        rotate: '2',
                    },
                },
                {
                    id: 4,
                    img: '/imgs/person2.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях 😀',
                    bg_color: '#D2EBEB',
                    text_color: '#000',
                    position: {
                        top: '230',
                        left: '100',
                        rotate: '2',
                    },
                },
                {
                    id: 5,
                    img: '/imgs/person2.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях 😀',
                    bg_color: '#FFDA00',
                    text_color: '#000',
                    position: {
                        top: '330',
                        left: '200',
                        rotate: '3',
                    },
                },
                {
                    id: 6,
                    img: '/imgs/person2.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях 🩷',
                    bg_color: '#91D8EC',
                    text_color: '#000',
                    position: {
                        top: '400',
                        left: '50',
                        rotate: '0',
                    },
                },
                {
                    id: 7,
                    img: '/imgs/person4.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Опытные наставники и качественные материалы делают обучение Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях 😀🩷 Они структурированы так, чтобы обеспечить понимание материала, с интерактивными и практическими заданиями.   так, чтобы обеспечить понимание материала, с интерактивными и практическими заданиями.',
                    bg_color: '#DDD7FF',
                    text_color: '#000',
                    position: {
                        top: '240',
                        left: '650',
                        rotate: '4',
                    },
                },
                {
                    id: 8,
                    img: '/imgs/person4.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 🧨',
                    bg_color: '#F0FB96',
                    text_color: '#000',
                    position: {
                        top: '300',
                        left: '500',
                        rotate: '-3',
                    },
                },
                {
                    id: 9,
                    img: '/imgs/person6.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#FFBAC4',
                    text_color: '#000',
                    position: {
                        top: '100',
                        left: '300',
                        rotate: '0',
                    },
                },
            ],
            mobile_comments: [
                {
                    id: 1,
                    img: '/imgs/person2.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#FFBAC4',
                    text_color: '#000',
                    position: {
                        top: '0',
                        left: '0',
                        rotate: '2',
                    }
                },
                {
                    id: 2,
                    img: '/imgs/person3.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#91D8EC',
                    text_color: '#000',
                    position: {
                        top: '220',
                        left: '0',
                        rotate: '-2',
                    }
                },
                {
                    id: 3,
                    img: '/imgs/person4.png',
                    name: 'Анастасия Попова',
                    nickname: '@anastasia_popova',
                    comment: 'Курсы предоставляют отличную возможность для расширения знаний и навыков в различных областях. 💜🔥🔥 Они структурированы так, чтобы обеспечить понимание материала.',
                    bg_color: '#FFDA00',
                    text_color: '#000',
                    position: {
                        top: '420',
                        left: '0',
                        rotate: '2',
                    }
                },
            ],
            modules: [Pagination, Navigation, Autoplay]
        }
    },
    async created() {
        await this.getPopularCategories()
        await this.getCategories()
        await this.getMasters()
        await this.getQaz()
        await this.getCourses(this.active_cat)
    },
    methods: {
        async getCourses(id) {
            let query = '/courses/'
            if (id) query = `/courses/?categories=${id}`
            const response = await api.get(query)
            this.courses = await response.data.results
        },
        async getCategories() {
            const response = await api.get('/categories/')
            this.cats = await response.data.results
            if (this.cats[0]) this.active_cat = this.cats[0].id
        },
        async getPopularCategories() {
            const response = await api.get('/categories/?ordering=students_count')
            this.popular_cats = await response.data.results
        },
        async getQaz() {
            const response = await api.get('/qas/')
            this.qas = await response.data
        },
        async getMasters() {
            const response = await api.get('/users/?is_teacher=true')
            this.masters = await response.data.results
        },
        toggleAccordion(index) {
            this.activeIndex = this.activeIndex === index ? null : index;
        },
        changeActiveCat(id) {
            this.active_cat = id
            this.getCourses(id)
        }
    }
}
</script>

<style>
@keyframes scroll {
    0% {
        transform: translateY(0);
    }

    100% {
        transform: translateY(-100%);
    }
}

.animate-scroll {
    animation: scroll 80s linear infinite;
}
</style>